<!DOCTYPE html>

<html ng-app="app">

	<head>
		<link rel="shortcut icon" type="image/ico" href="img/logo-2.png" />
		<title>Reginyzr</title>
    	<link type="text/css" rel="stylesheet" href="stylesheets/materialize.min.css"  media="screen,projection"/>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
       	<link type="text/css" rel="stylesheet" href="stylesheets/animate.css">
       	<link type="text/css" rel="stylesheet" href="stylesheets/default.css">
    	<link type="text/css" rel="stylesheet" href="stylesheets/admin_approve.css">

	</head>

	<body>

		<!-- NAV BAR -->

		<div class="navbar-fixed">
		<nav>
		 	<div class="nav-wrapper container">
		 		<ul>
		    		<li><a href="#" data-activates="slide-out" class="showsidenav"><i class="material-icons">reorder</i></a></li>
		    	</ul>
		    	
				<div class="center">
			 		<a href="/" class="brand-logos"> Reginyzr</a>
			    </div>			 


	    		<!-- SIDE NAV  -->
				<div id="slide-out" class="side-nav center">
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">Home</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin_approve" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">View Pending Users</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin_viewlogs" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">View Logs</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a ng-click="Logout()" id="logout-button" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">Log Out</a>
						</div>
				</div>
		    </div>
		</nav>
	</div>

		<main class="container">
			<button class="waves-effect waves-light btn" id="login-all">View all Login</button>
			<button class="waves-effect waves-light btn" id="logout-all">View all Logout</button>
			<button class="waves-effect waves-light btn" id="login-specific">View all Login by a User</button>
			<button class="waves-effect waves-light btn" id="logout-specific">View all Logout by a User</button>
			<table data-ng-init="GetAllLogin()" ng-table="usersTable" ng-controller="AdminCtrl" show-filter="true" id="admintable" class="highlight responsive-table tablesorter">
				<thead>
					<tr>
						<th>User id</th>
						<th>Username</th>
						<th id="dynamicth">Date Login</th>
					</tr>
				</thead>
				<tbody>					
					 <tr ng-repeat="user in userList">
				       <td data-title="id" >
				           {{user.id}}
				       </td>
				       <td data-title="username" >
				           {{user.username}}
				       </td>    
				       <td data-title="date_login" id="dynamictd">
				           {{user.date_login}}
				       </td>
				   </tr>					
				</tbody>
			</table>
		</main>

		<script type="text/javascript" src="js/jquery.js"></script>
	    <script type="text/javascript" src="js/materialize.min.js"></script>
	    <script type="text/javascript" src="js/default.js"></script>
		<script src="js/angular.min.js"></script>
		<script src="js/angular-route.min.js"></script>
		<script src="app.js"></script>

		<script>
			$("#login-all").click(function(){		

				$("#admintable").attr("data-ng-init", "GetAllLogin()");
				$("#dynamicth").html("Date Login");
				$("#dynamictd").html("{{user.date_login}}");

				angular.element(document.getElementById('admintable')).scope().GetAllLogin();

			});			

			$("#logout-all").click(function(){		

				$("#admintable").attr("data-ng-init", "GetAllLogout()");
				$("#dynamicth").html("Date Logout");
				$("#dynamictd").html("{{user.date_logout}}");

				angular.element(document.getElementById('admintable')).scope().GetAllLogout();

			});


			$("#login-specific").click(function(){		

				var id = prompt("Please enter ID of Faculty User");

				$("#admintable").attr("data-ng-init", "GetSpecificLogin()");
				$("#dynamicth").html("Date Login");
				$("#dynamictd").html("{{user.date_login}}");

				angular.element(document.getElementById('admintable')).scope().GetSpecificLogin(id);

			});

			$("#logout-specific").click(function(){		

				var id = prompt("Please enter ID of Faculty User");

				$("#admintable").attr("data-ng-init", "GetSpecificLogout()");
				$("#dynamicth").html("Date Login");
				$("#dynamictd").html("{{user.date_login}}");

				angular.element(document.getElementById('admintable')).scope().GetSpecificLogout(id);

			});
			
		</script>
	</body>

</html>