<!DOCTYPE html>

<html ng-app="app">

	<head>
		<link rel="shortcut icon" type="image/ico" href="img/logo-2.png" />
		<title>Reginyzr</title>
    	<link type="text/css" rel="stylesheet" href="stylesheets/materialize.min.css"  media="screen,projection"/>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

       	<link type="text/css" rel="stylesheet" href="stylesheets/animate.css">
       	<link type="text/css" rel="stylesheet" href="stylesheets/default.css">
    	<link type="text/css" rel="stylesheet" href="stylesheets/admin_tables.css">

    	<script type="text/javascript" src="js/jquery.js"></script>	

	</head>

	<body>

		<!-- NAV BAR -->

		<div class="navbar-fixed">
		<nav>
		 	<div class="nav-wrapper container">
		 		<ul>
		    		<li><a href="#" data-activates="slide-out" class="showsidenav"><i class="material-icons">reorder</i></a></li>
		    	</ul>
	    		<!-- SIDE NAV  -->
				<div id="slide-out" class="side-nav center">
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">Home</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin_approve" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">View Pending Users</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a href="/admin_viewlogs" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">View Logs</a>
						</div>
						<div class = "center" ng-controller="AdminCtrl">
							<a ng-click="Logout()" id="logout-button" class="waves-effect waves-teal btn-flat blue-text text-lighten-2">Log Out</a>
						</div>
				</div>
		    </div>
		</nav>
	</div>

		<div class="container">
			<table data-ng-init="GetUsers()" ng-table="usersTable" ng-controller="AdminCtrl" show-filter="true" id="admintable" class="highlight responsive-table bordered centered stripped">
				<thead>
					<tr>
						<th>
							<a ng-click="order('given_name')" class="waves-effect waves-light btn">First Name
							<span class="sortorder" ng-show="predicate === 'given_name'" ng-class="{reverse:reverse}"></span>
							</a>							
						</th>
						<th>
							<a ng-click="order('last_name')" class="waves-effect waves-light btn">Last Name
							<span class="sortorder" ng-show="predicate === 'last_name'" ng-class="{reverse:reverse}"></span>
							</a>	
						</th>
						<th>
							<a ng-click="order('username')" class="waves-effect waves-light btn">Username
							<span class="sortorder" ng-show="predicate === 'username'" ng-class="{reverse:reverse}"></span>
							</a>
						</th>
						<th>
							<a ng-click="order('employee_id')" class="waves-effect waves-light btn">Employee ID
							<span class="sortorder" ng-show="predicate === 'employee_id'" ng-class="{reverse:reverse}"></span>
							</a>
						</th>
						<th>
							<a ng-click="order('classification')" class="waves-effect waves-light btn">Classification
							<span class="sortorder" ng-show="predicate === 'classification'" ng-class="{reverse:reverse}"></span>
							</a>
						</th>
						<th>
							<a ng-click="order('date_signed_up')" class="waves-effect waves-light btn">Date of Sign Up
							<span class="sortorder" ng-show="predicate === 'date_signed_up'" ng-class="{reverse:reverse}"></span>
							</a>
						</th>
					</tr>
				</thead>
				<tbody>					
					 <tr ng-repeat="user in userList | orderBy:predicate:reverse">
				       <td data-title="given_name" >
				           {{user.given_name}}
				       </td>
				       <td data-title="last_name" >
				           {{user.last_name}}
				       </td>
				       <td data-title="username" >
				           {{user.username}}
				       </td>    
				       <td data-title="employee_id" >
				           {{user.employee_id}}
				       </td>    
				       <td data-title="classification">
				           {{user.classification}}
				       </td>    
				       <td data-title="date_signed_up" >
				           {{user.date_signed_up}}
				       </td>
				       <td data-title="approve_button">
				           <button class="waves-effect waves-light btn material-icons" ng-click="ApproveUser(user.id, user.username)">done</button>
				       </td>     
				   </tr>					
				</tbody>
			</table>
		</div>

		<script type="text/javascript" src="js/jquery.js"></script>
	    <script type="text/javascript" src="js/materialize.min.js"></script>
	    <script type="text/javascript" src="js/default.js"></script>
		<script src="js/angular.min.js"></script>
		<script src="js/angular-route.min.js"></script>
		<script src="app.js"></script>

	</body>
</html>
